<!doctype html5>

<h1>page 2</h1>

<button id="bridge-version">bridge version</button>

<h2>navigation</h2>

<button id="push-state">push state</button>
<button id="replace-state">replace state</button>

<h2>alerts</h2>

<button id="alerts-show">show alert</button>

<h2>progress</h2>

<button id="progress-show">show</button>
<button id="progress-hide">hide</button>

<h2>web dialog</h2>

<button id="webdialog">open web dialog</button>

<a href="example2.html" id="test-href">page two</a>

<script>
  // info

  document.getElementById('bridge-version').addEventListener('click', function() {
    var bridgeInfo = SDJSPlatformAPI.info();

    alert('bridge is running on ' + bridgeInfo.osName + ' ' + bridgeInfo.osVersion + '. Platform API v' + bridgeInfo.apiLevel);
  });

  // pushState/replaceState

  document.getElementById('push-state').addEventListener('click', function() {
    var options = {
      title: 'title page',
      url: 'example2.html'
    };

    SDJSPlatformAPI.pushState(options);
  });

  document.getElementById('replace-state').addEventListener('click', function() {
    var options = {
      title: 'title page',
      url: 'example2.html'
    };

    SDJSPlatformAPI.replaceState(options);
  });

  // alert

  document.getElementById('alerts-show').addEventListener('click', function() {
    var alertOptions = {
      message: "hello",
      title: "hey! listen!",
      okButton: "OKAY",
      cancelButton: "CANCEL",
      neutralButton: "hmm..."
    };

    SDJSPlatformAPI.alert(alertOptions, function(data) {
      SDJSPlatformAPI.log(data);
    });
  });

  // showLoadingIndicator/hideLoadingIndicator

  document.getElementById('progress-show').addEventListener('click', function() {
    var options = {
      message: 'Loading...'
    };

    SDJSPlatformAPI.showLoadingIndicator(options);
  });

  document.getElementById('progress-hide').addEventListener('click', function() {
    SDJSPlatformAPI.hideLoadingIndicator();
  });

  // webDialog

  document.getElementById('webdialog').addEventListener('touchend', function(e) {
    var content = '<h1>web dialog</h1><button onclick="JavaScript:closeDialog();">close</button>';

    var options = {
      title: "Example Title",
      content: content,
      okButton: "Apply",
      cancelButton: "Cancel"
    };

    SDJSPlatformAPI.webDialog(options, function(data) {
      alert('action is ' + data.action);
    });
  });
</script>
